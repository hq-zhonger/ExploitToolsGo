package OA

import "time"

type TongDa struct {
	proxyUrl  string
	userAgent string
	timeOut   time.Duration
	headers   map[string]string
	url       string
}

func (td *TongDa) SetUrl(url string) *TongDa {
	td.url = url
	return td
}

func (td *TongDa) SetProxyUrl(proxyUrl string) *TongDa {
	td.proxyUrl = proxyUrl
	return td
}

func (td *TongDa) SetUserAgent(userAgent string) *TongDa {
	td.userAgent = userAgent
	return td
}

func (td *TongDa) SetTimeout(timeout time.Duration) *TongDa {
	td.timeOut = timeout
	return td
}

func (td *TongDa) SetHeaders(headers map[string]string) *TongDa {
	td.headers = headers
	return td
}

func (td *TongDa) checkParameters() {
	if td.userAgent == "" {
		td.userAgent = "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36"
	}
}

func (td *TongDa) ScanAllExploits() (results chan string, errs chan error) {
	td.checkParameters()
	return results, errs
}
